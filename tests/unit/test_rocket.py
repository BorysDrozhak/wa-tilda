from tests.unit.data.rocket_order_examples import (example1, example_total1,
                                                   example_total2,
                                                   example_total3)
from utils.rocket import parse_rocket_fmt, parse_total_kassa


def test_example1():
    assert parse_rocket_fmt(example1) == '''    –ö–µ—à = 805.7
    –ë–µ–∑–Ω–∞–ª = 3755.4
    Total = 4561.1'''


def test_total_tip():
    # —á–∞–π 85
    assert parse_total_kassa(example_total1) == (
        '–ö–∞—Å–∞ 2021-05-13 - –†–∞–∑–æ–º: 13268.5\n–î–æ—Å—Ç–∞–≤–∫–∞: 5458.5\n–ó–∞–ª —Ä–µ—Å—Ç–æ—Ä–∞–Ω—É: 7810.0\n—á–∞–π: 85.0?'
        '\n\n–ù–µ–ø–æ–≥–∞–Ω–æ, –∞–ª–µ –¥–ª—è –º–∏–Ω—É–ª–æ–≥–æ –º—ñ—Å—è—Ü—é. –ú–∞—é –Ω–∞–¥—ñ—é –≤–∏ –∑–¥–∏–≤—É—î—Ç–µ –º–µ–Ω–µ —ñ–Ω—à–∏–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏ ü§ó'
    )

    assert parse_total_kassa(example_total2) == (
        '–ö–∞—Å–∞ 2021-06-03 - –†–∞–∑–æ–º: 19571.3\n–î–æ—Å—Ç–∞–≤–∫–∞: 8091.3\n–ó–∞–ª —Ä–µ—Å—Ç–æ—Ä–∞–Ω—É: 11480.0'
        '\n–ù–µ —Å—Ö–æ–¥–∏—Ç—å—Å—è z-–∑–≤—ñ—Ç –∑ –∞–π–∫–æ –ø—Ä–æ–¥–∞–∂–µ–º –Ω–∞:474.5'
        '\n\n–ù–µ–ø–æ–≥–∞–Ω–æ, –∞–ª–µ –¥–ª—è –º–∏–Ω—É–ª–æ–≥–æ –º—ñ—Å—è—Ü—é. –ú–∞—é –Ω–∞–¥—ñ—é –≤–∏ –∑–¥–∏–≤—É—î—Ç–µ –º–µ–Ω–µ —ñ–Ω—à–∏–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏ ü§ó'
    )

    assert parse_total_kassa(example_total3) == (
        '–ö–∞—Å–∞ 2021-06-03 - –†–∞–∑–æ–º: 242996.3\n–î–æ—Å—Ç–∞–≤–∫–∞: 131516.3\n–ó–∞–ª —Ä–µ—Å—Ç–æ—Ä–∞–Ω—É: 111480.0'
        '\n–ù–µ —Å—Ö–æ–¥–∏—Ç—å—Å—è z-–∑–≤—ñ—Ç –∑ –∞–π–∫–æ –ø—Ä–æ–¥–∞–∂–µ–º –Ω–∞:474.5'
        '\n\n–ù–µ–ø–æ–≥–∞–Ω–æ, –∞–ª–µ –¥–ª—è –º–∏–Ω—É–ª–æ–≥–æ –º—ñ—Å—è—Ü—é. –ú–∞—é –Ω–∞–¥—ñ—é –≤–∏ –∑–¥–∏–≤—É—î—Ç–µ –º–µ–Ω–µ —ñ–Ω—à–∏–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏ ü§ó'
        '\n–í–∞–≤! –ù–æ–≤–∏–π —Ä–µ–∫–æ—Ä–¥ –Ω–∞ –¥–æ—Å—Ç–∞–≤—Ü—ñ! –ë—É–≤ 16151 09.04, –∞ —Ç–µ–ø–µ—Ä 131516.3'
        '\n–í–∞–≤! –ù–æ–≤–∏–π —Ä–µ–∫–æ—Ä–¥ –≤ –∑–∞–ª—ñ —Ä–µ—Ç—Å–æ—Ä–∞–Ω—É! –ë—É–≤ 111480.0 13.03, –∞ —Ç–µ–ø–µ—Ä 111480.0'
    )
